{"version":3,"file":"confetti.min.js","sources":["../src/confetti.js"],"sourcesContent":["// amd/src/confetti.js\n/**\n * Confetti module for Moodle.\n *\n * This module listens for clicks on links with the class \"confetti\"\n * and throws virtual confetti (ðŸŽ‰) across the screen.\n *\n * @module     tool_confetti/confetti\n * @copyright  2025 You\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([], function() {\n    /**\n     * Throwing cconfetti.\n     *\n     */\n    function throwConfetti() {\n        // Basic confetti effect using canvas.\n        const duration = 2 * 1000;\n        const end = Date.now() + duration;\n\n        (function frame() {\n            // Create a confetti element\n            const confetti = document.createElement('div');\n//            confetti.textContent = 'ðŸŽ‰';\n            confetti.textContent = 'âœ¨';\n            confetti.style.position = 'fixed';\n            confetti.style.left = Math.random() * 100 + 'vw';\n            confetti.style.top = '-2em';\n            confetti.style.fontSize = '2em';\n            confetti.style.transition = 'transform 2s linear, top 2s linear';\n            document.body.appendChild(confetti);\n\n            requestAnimationFrame(() => {\n                confetti.style.top = '100vh';\n                confetti.style.transform = `rotate(${Math.random() * 720}deg)`;\n            });\n\n            setTimeout(() => confetti.remove(), 2000);\n\n            if (Date.now() < end) {\n                requestAnimationFrame(frame);\n            }\n        })();\n    }\n\n    return {\n        init: function() {\n            console.log(\"âœ… tool_confetti: AMD init fired\");\n            document.addEventListener('click', function(e) {\n                if (e.target.closest('a.confetti')) {\n                    e.preventDefault();\n                    throwConfetti();\n                }\n            });\n        }\n    };\n});\n"],"names":["define","init","console","log","document","addEventListener","e","target","closest","preventDefault","end","Date","now","frame","confetti","createElement","textContent","style","position","left","Math","random","top","fontSize","transition","body","appendChild","requestAnimationFrame","transform","setTimeout","remove","throwConfetti"],"mappings":";;;;;;;;;;AAWAA,gCAAO,IAAI,iBAmCA,CACHC,KAAM,WACFC,QAAQC,IAAI,mCACZC,SAASC,iBAAiB,SAAS,SAASC,GACpCA,EAAEC,OAAOC,QAAQ,gBACjBF,EAAEG,kCAhCRC,IAAMC,KAAKC,MADA,cAGPC,cAEAC,SAAWV,SAASW,cAAc,OAExCD,SAASE,YAAc,IACvBF,SAASG,MAAMC,SAAW,QAC1BJ,SAASG,MAAME,KAAuB,IAAhBC,KAAKC,SAAiB,KAC5CP,SAASG,MAAMK,IAAM,OACrBR,SAASG,MAAMM,SAAW,MAC1BT,SAASG,MAAMO,WAAa,qCAC5BpB,SAASqB,KAAKC,YAAYZ,UAE1Ba,uBAAsB,KAClBb,SAASG,MAAMK,IAAM,QACrBR,SAASG,MAAMW,2BAAsC,IAAhBR,KAAKC,oBAG9CQ,YAAW,IAAMf,SAASgB,UAAU,KAEhCnB,KAAKC,MAAQF,KACbiB,sBAAsBd,UAWlBkB"}